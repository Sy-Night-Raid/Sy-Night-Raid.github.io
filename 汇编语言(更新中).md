# 汇编与c语言
     
## 思维起点
` 道生一，一生二，二生三，三生万物 `     
     
## 1.1 进制
! [进制基础知识](https://i.loli.net/2021/09/14/zI6r8hfE5jVmkJp.png)
! [进制基础知识](https://i.loli.net/2021/09/14/DjQ3GdYP2U6rpef.png)    
这些图片等最近几天研究下上传云端图床再来显示……
    
* 有一个小问题：你有没有真正理解进制？1+1=3对吗？（如果你能用进制解释清楚1+1=3是对的，那是真的理解进制了）           
     * 十进制的定义：由十个符号组成，分别是0 1 3 2 8 7 6 9 4 5逢十进一   
     * 十进制的定义：由十个符号组成，分别是A S B L K 7 6 V 9 5逢十进一 
     * 我们可以任意规定进制的每个位是什么，这些都是由我们自己可以决定的，只要符合它根本的计数规律即可
          * 我们这样理解进制有意义嘛？这样随意的定义进制？（我们可以把这种自己定义的进制运用到加密解密的领域，会给其他解密的人带来很大的难度）    
      
 ## 1.2 进制的计算
 进制的计算全部去用十进制类比     
 每种进制都是完美的，它自身就是一个完整的体系，可以直接做各种运算        
 ## 1.3 计算机用二进制的原理
 计算机是由集成电路板构成的，电路只有两种状态：1真（通电） 0假（断电），计算机中所有的数据都是按二进制数据来存放的
 * 但我们发现非常有意思的一个点，我们通过debug看计算机内部的信息时候，都是用16进制表示的，这是因为二进制写出来太多了，根本不好表示，但并不是说是按16进制来存放数据的哦！数据还是按二进制存储。16进制在计算机中存在最大的意义`是16进制可以看成是2进制的简写形式`
 * 熟练的掌握二进制和十六进制的转换关系（把十进制忘掉，它就是一个绊脚石）       
 0000 0001 0010 0011 0100 0101 0110 0111 1000 1001 1010 1011 1100 1101 1110 1111     
 0     1     2    3    4    5    6   7    8     9    A    B    C    D    E    F
          
 ## 1.4 计算机存储数据宽度
 * bit，byte，word
 * 当我们存储的数据超过了最大宽度，那么多余的数据将被丢弃 
 * 比如我们int了一个变量，然后用sizeof一看这个数据最大宽度是一个字节，所以数据的范围是0~FF，超过了范围的数字就会被丢弃~
 ## 1.5 无符号数和有符号数
1. 无符号数的编码规则：10011010（9A）数是多少就是多少，因为无符号数不存在负数，全是正数
2. 有符号数的编码规则：最高位是符号位，最高位0代表是正数，最高位1代表是负数
     * 原码：最高位为符号位，其余各位为数值本身的绝对值     
        比如我们想些1的原码，首先要确定数据的宽度，如果就按一个字节（8bit）宽度来写1的原码，为0000 0001
     * 反码：负数的反码符号位为1 其余位对原码取反
     * 补码：负数的补码符号位为1 其余位对原码取反加1            
     `正数的原码、反码、补码相同`      
  ## 1.6 计算机的位运算
  计算机只认识0和1，计算机能做的运算根本来说就是直接对0和1做运算（位运算）
  1. 与运算：如图所示，当两个开关全闭合的时候这个灯泡就会亮（两个位都为1时，结果才为1），在汇编中用and 在c语言中用&实现与运算
  2. 或运算：
  3. 异或运算：
  4. 非运算：
  5. 左移：
  6. 右移：
     

https://i.loli.net/2021/09/15/yOCPtAKsHVlnaxo.png        
https://i.loli.net/2021/09/15/NAl9rbZ1H287oP4.png               
https://i.loli.net/2021/09/15/ayTM8wScoYpJndP.png               
https://i.loli.net/2021/09/15/qsaUSHlIVZF17Lj.png                
https://i.loli.net/2021/09/15/uqz1ZiIvTYgUrXo.png                 
https://i.loli.net/2021/09/15/QRl6n1Mu5N73yqt.png     

 ## 1.7 通过位运算来间接实现四则运算
 我们通过尝试可以发现，在不考虑进位的情况下，异或运算和加法运算得到的结果是一样的
 * 所以加法：
 1. 先进行异或运算            
 2. 判断有没有进位，如果没有异或运算的结果即是加法的结果         
     * 怎么判断有没有进位呢，要用与运算，如果结果都为0证明没有进位，如果哪一位出现了1，证明那一位需要向前进一位！                      
 3. 继续异或运算，将（第一步异或的结果）与（第二步与运算的结果往左移一位得到的数【因为进位是向前进位的，所以需要把那个1向左移一位】）进行异或运算                   
 4.继续用与运算判断是否有进位，如果有重复上述操作，如果没有即是最终结果
 * 减法：计算机做减法其实就是做加法，例如4-5就是4+（-5）
 * 乘法：乘法的本质就是加法，x\*y的本质就是y个x相加
 * 除法：除法的本质就是减法，x\y就是x能减去多少个y            
 `启发：任何复杂的运算都是建立在四则运算上的，计算机既然能通过位运算进行四则运算，那么就也能做任何复杂的运算`   
 ## 1.8 汇编的学习指南
 1. 我们学安全的人学汇编并不是为了写代码，我们学习汇编是为了理解程序是怎么运行的https://i.loli.net/2021/09/15/hFQZneKEO43i8xm.png     
     * 如果是从事应用开发的人，只要学到c/c++与汇编的应用关系就够用了
     * 如果要从事安全相关的人，除了要了解c/c++与汇编的应用关系，还要了解汇编和二进制之间的关系
 ## 1.9 通用寄存器
 1. 计算机可以在三个地方存储数据：cpu>内存>硬盘（寄存器就是cpu中用来存储数据的地方）
 2. 寄存器有多大取决于你cpu是多少位的：     
 32位cpu：寄存器就有三种类型，8位，16位，32位      
 64位cpu：寄存器就有四种类型：8位，16位，32位，64位 
              
 ###通用寄存器（就是你想让它存什么就存什么，什么都可以存的寄存器）
 32位通用寄存器（一共有8个）：EAX,ECX,EDX,EBX,ESP,EBP,ESI,EDI
 * 汇编做的事情其实就是寄存器和寄存器之间，寄存器和内存之间的数据来回流动
 * 汇编三个关键词（寄存器，内存，指令）                      
     

* https://i.loli.net/2021/09/15/e6YMquVLs2t5A9b.png如图我们可以看出点什么？   比如EAX，AX，AL，他们其实都是一个寄存器啊，就像我们把AX分为AH高八位和AL低八位，EAX也是如此，所以8086 16位的cpu和32位cpu其实原理都是相同的。只不过随着技术发展，寄存器能存放的宽度变大了而已        
`注意：在使用mov指令时候，不要把不同宽度的寄存器之间进行数据交换，那样是错误的，比如mov ax，bl就是错的，mov bl，ax也是错误的，八位寄存器的数据和十六位寄存器的数据是不能够匹配的`



 
 
 


 
     


 
 
 
 
 


               
                 











